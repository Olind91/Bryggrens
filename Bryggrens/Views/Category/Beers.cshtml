@model IEnumerable<BeerEntity>
<div class="container">
    <div class="beer-categories mt-4">
        <button class="active" data-category="all" onclick="filterProducts('all')">All</button>
        <button data-category="1" onclick="filterProducts(1)">NEIPA</button>
        <button data-category="2" onclick="filterProducts(2)">Sour</button>
        <button data-category="3" onclick="filterProducts(3)">Pale Ale</button>
    </div>


    <div id="productList">
        <!-- Här visas produkterna dynamiskt -->
        <div class="row mt-5">
            @foreach (var product in Model)
            {
                <div class="col-lg-4 col-md-6 mb-4">
                    <div class="card h-100">
                        <img src="~/images/@product.ImageUrl" alt="@product.BeerName" style="height:270px; width:270px;"> <!-- Funkar inte -->
                        <div class="card-body">
                            <h5 class="card-title">Name: @product.BeerName</h5>
                            <p class="card-text">Articlenumber: @product.ArticleNumber</p>
                            <p class="card-text">Description : @product.BeerDescription</p>
                            <p class="card-text">Alcohol: @product.AlcoholPercent%</p>
                        </div>
                    </div>
                </div>
            }
        </div>
    </div>
</div>


@section scripts {
    <script>
        async function filterProducts(category) {
            var categoryBtns = document.getElementsByClassName('beer-categories')[0].getElementsByTagName('button');

            for (var i = 0; i < categoryBtns.length; i++) {
                categoryBtns[i].classList.remove('active');
            }

            for (var i = 0; i < categoryBtns.length; i++) {
                if (categoryBtns[i].getAttribute('data-category') === category.toString()) {
                    categoryBtns[i].classList.add('active');
                }
            }

            if (category === 'all') {
                window.location.href = '@Url.Action("Beers", "Category")';
            } else {
                window.location.href = '@Url.Action("FilterByCategory", "Category")?categoryId=' + category;
            }
        }
    </script>
}
